import{b as N,k,a as z,u as C,j as e,l as U}from"./index-CVQA_-Qn.js";import{d as A}from"./constants-BvTCXSA-.js";import{A as $}from"./arrow-up-right-Ci-K3MWT.js";import{H as B}from"./heart-DgzIgv4v.js";import{M as D}from"./map-pin-316Rjvs2.js";import{U as P}from"./user-DjW21Lp-.js";const R=({_id:s,coverImageUrl:x,title:r,author:m,owner:h,genre:i=[],location:o,availabilityType:l,tags:c=[],status:p="available"})=>{const d=N(t=>k(t).has(s)),u=z(),g=C(),f=Array.isArray(l)?l:[l],b=o?`${o.city}, ${o.state}`:"Unknown Location",w=i.length>0?i[0]:"General",v=h?.name||"Unknown Owner",n=()=>{g(`/books/${s}`)},j=t=>{t.stopPropagation(),u(U(s,d))};return e.jsxs("div",{onClick:n,className:"w-full max-w-sm sm:max-w-none mx-auto bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition-shadow duration-300 group flex flex-col h-full cursor-pointer",children:[e.jsxs("div",{className:"relative h-64 sm:h-72 md:h-64 bg-gray-100 overflow-hidden shrink-0",children:[e.jsx("img",{src:x||"https://images.unsplash.com/photo-1543002588-bfa74002ed7e?auto=format&fit=crop&q=80&w=2730",alt:r,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center z-10 backdrop-blur-[2px]",children:e.jsxs("button",{onClick:t=>{t.stopPropagation(),n()},className:"transform translate-y-4 group-hover:translate-y-0 transition-all duration-300 bg-white text-gray-900 px-4 py-2 rounded-full font-bold text-xs shadow-xl flex items-center gap-2 hover:bg-orange-600 hover:text-white",children:["View Details",e.jsx($,{size:16})]})}),e.jsx("button",{onClick:j,className:"absolute top-3 left-3 p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-sm hover:bg-white hover:scale-110 transition-all duration-200 group/heart z-20",children:e.jsx(B,{size:18,className:`transition-colors duration-300 ${d?"fill-red-500 text-red-500":"text-gray-400 group-hover/heart:text-red-500"}`})}),c.length>0&&e.jsx("div",{className:"absolute top-3 right-3 px-2.5 py-1 rounded-md shadow-sm flex items-center gap-1.5 text-gray-700 bg-white/90 backdrop-blur-md z-20",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:c[0]})}),e.jsx("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-1.5 max-w-[90%] z-20",children:f.map((t,y)=>{const a=A(t);return a?e.jsxs("div",{className:`px-2 py-1 rounded-md flex items-center gap-1 shadow-sm backdrop-blur-md bg-opacity-95 ${a.color}`,children:[e.jsx(a.icon,{size:10,className:"text-white"}),e.jsx("span",{className:"text-[9px] font-bold text-white uppercase tracking-wider",children:a.text})]},y):null})})]}),e.jsxs("div",{className:"p-4 flex flex-col gap-1 flex-grow",children:[e.jsx("span",{className:"text-orange-500 text-[10px] font-bold uppercase tracking-wider",children:w}),e.jsx("h3",{className:"text-gray-900 font-semibold text-lg leading-tight truncate tracking-tighter",title:r,children:r}),e.jsxs("p",{className:"text-gray-500 text-sm truncate",children:["by ",m]}),e.jsxs("div",{className:"mt-1 flex flex-col gap-1 pt-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500",children:[e.jsx(D,{size:14,className:"shrink-0"}),e.jsx("span",{className:"text-xs font-medium truncate",children:b})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500",children:[e.jsx(P,{size:14,className:"shrink-0"}),e.jsxs("span",{className:"text-xs font-medium truncate",children:["Owner: ",v]})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:p!=="available"?e.jsx("button",{disabled:!0,className:"w-full bg-gray-200 text-gray-500 font-semibold py-2.5 rounded-xl cursor-not-allowed text-sm",children:"Currently Unavailable"}):e.jsx("button",{onClick:t=>{t.stopPropagation(),n()},className:"w-full bg-orange-500 hover:bg-orange-600 shadow-lg shadow-orange-100 text-white font-semibold py-2.5 rounded-xl transition-colors duration-200 text-sm",children:"View Details"})})]})]})};export{R as B};
