import{a as o,b as x,r as m,j as e}from"./index-D6hQ08Y0.js";import{d as g}from"./adminActions-NEKz7XQ-.js";import{L as h}from"./loader-circle-BYwwIi0_.js";import{C as p}from"./calendar-Ds-0EkNH.js";import{c as l}from"./createLucideIcon-C9Hrp4nZ.js";import{S as j}from"./star-DZToScwE.js";import{B as f}from"./book-open-CQ8IbAVz.js";const b=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],y=l("award",b);const u=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],N=l("trending-up",u),C=()=>{const t=o(),{topBooks:c,topContributors:i,borrowingTrends:r,isLoading:n}=x(s=>s.admin.analytics);return m.useEffect(()=>{t(g())},[t]),n?e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-orange-500"})}):e.jsxs("div",{className:"space-y-8 p-4 bg-gray-50/30 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Analytics"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Insights from the database."})]}),e.jsxs("div",{className:"bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2",children:[e.jsx(p,{size:16,className:"text-orange-500"}),"Live Stats"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg text-orange-600",children:e.jsx(N,{size:20})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Trending Books"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-6",children:c?.map((s,a)=>e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-lg font-black text-gray-200 w-6",children:a+1}),e.jsx("img",{src:s.book?.coverImageUrl,alt:"",className:"w-10 h-14 object-cover rounded bg-gray-100"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800 leading-tight",children:s.book?.title}),e.jsx("p",{className:"text-xs text-gray-400",children:s.book?.author})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-sm font-bold text-orange-600",children:s.count}),e.jsx("p",{className:"text-[10px] uppercase text-gray-400 font-bold",children:"Borrows"})]})]},a))})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg text-green-600",children:e.jsx(y,{size:20})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Top Lenders"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-6",children:i?.map((s,a)=>e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-11 h-11 rounded-full bg-gray-100 font-bold flex items-center justify-center text-gray-600 border border-gray-200",children:s.user?.name?.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 text-sm",children:s.user?.name}),e.jsxs("p",{className:"text-xs text-gray-400",children:[s.count," Shared"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("div",{className:"flex items-center text-yellow-500 gap-1",children:[e.jsx(j,{size:14,fill:"currentColor"}),e.jsx("span",{className:"text-sm font-bold text-gray-700",children:s.user?.ratingStats?.avgRating||0})]}),e.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:"Rating"})]})]},a))})})]}),e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:e.jsx(f,{size:20})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Daily Volume"})]}),e.jsx("div",{className:"flex items-end justify-between h-40 gap-2",children:r?.map((s,a)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t-sm relative",style:{height:`${s.count/(Math.max(...r.map(d=>d.count))||1)*100}%`},children:e.jsx("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-[10px] font-bold text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity",children:s.count})}),e.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase",children:s._id})]},a))})]})]})]})};export{C as default};
