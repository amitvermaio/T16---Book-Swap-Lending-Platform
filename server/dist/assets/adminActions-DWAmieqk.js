import{p as t,a1 as n,C as e,a2 as d,a3 as i,a4 as l,a5 as u,a6 as y,a7 as b,a8 as f,a9 as g,aa as h}from"./index-CVQA_-Qn.js";const m=()=>async a=>{try{const{data:s}=await t.get("/admin/users");s.success&&a(n(s.users))}catch{e.error("Failed to fetch users")}},p=(a,s)=>async r=>{try{const{data:o}=await t.patch(`/admin/users/${a}/role`,{role:s});o.success&&(r(g(o.user)),e.success("User role updated successfully"))}catch{e.error("Failed to update user role")}},w=()=>async a=>{try{const{data:s}=await t.get("/admin/books");s.success&&a(d(s.books))}catch{e.error("Failed to fetch books")}},F=(a,s)=>async r=>{try{const{data:o}=await t.delete(`/admin/books/${a}`,{reason:s});o.success&&(r(h(a)),e.success("Book deleted successfully"))}catch{e.error("Failed to delete book")}},q=()=>async a=>{try{a(l());const[s,r,o,c]=await Promise.all([t.get("/analytics/top-books"),t.get("/analytics/top-contributors"),t.get("/analytics/trends"),t.get("/admin/requests")]);a(u(s.data.data)),a(y(r.data.data)),a(b(o.data.data)),a(f(c.data.requests))}catch(s){console.error(s),e.error("Failed to load analytics data")}},R=()=>async a=>{try{const{data:s}=await t.get("/admin/disputes");a(i(s.disputes))}catch(s){e.error(s?.response?.data?.message||"Failed to fetch disputes")}};export{m as a,w as b,R as c,q as d,p as e,F as f};
