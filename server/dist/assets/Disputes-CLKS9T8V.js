import{b as h,r as i,j as e}from"./index-CVQA_-Qn.js";import{a as m}from"./dataUtils-WcwZrQXq.js";import{X as u}from"./x-VhSREFwM.js";import{c as o}from"./createLucideIcon-BOWIOHBy.js";import{M as g}from"./message-square-BtSM9UGs.js";import{G as j}from"./gavel-ETF7r8u7.js";import{E as b}from"./ellipsis-B6pBLNCv.js";const f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],x=o("circle-alert",f);const y=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],N=o("external-link",y);const v=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],w=o("maximize-2",v),C=()=>{const{disputes:n}=h(s=>s.admin),[a,p]=i.useState("newest"),[d,c]=i.useState(null),l=i.useMemo(()=>{let s=[...n];return["OPEN","UNDER_REVIEW","RESOLVED","REJECTED"].includes(a)&&(s=s.filter(t=>t.status===a)),s.sort((t,r)=>a==="oldest"?new Date(t.createdAt)-new Date(r.createdAt):new Date(r.createdAt)-new Date(t.createdAt))},[n,a]);return e.jsxs("div",{className:"space-y-6 relative",children:[d&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>c(null),children:[e.jsx("button",{className:"absolute top-10 right-10 text-white/70 hover:text-white transition-colors",children:e.jsx(u,{size:40})}),e.jsx("img",{src:d,alt:"Evidence Full View",className:"max-w-full max-h-[85vh] rounded-lg shadow-2xl border border-white/10 object-contain"})]}),e.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Dispute Resolution"}),e.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 text-xs font-black rounded-full border border-orange-200 uppercase",children:[l.length," Cases"]})]}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Investigate reports and maintain platform integrity."})]}),e.jsxs("select",{value:a,onChange:s=>p(s.target.value),className:"bg-white border border-gray-200 rounded-xl px-4 py-2.5 text-sm font-semibold shadow-sm focus:ring-2 focus:ring-orange-500 outline-none cursor-pointer",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"OPEN",children:"Open Cases"}),e.jsx("option",{value:"UNDER_REVIEW",children:"In Review"}),e.jsx("option",{value:"RESOLVED",children:"Resolved"}),e.jsx("option",{value:"REJECTED",children:"Rejected"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/80 border-b border-gray-100",children:[e.jsx("th",{className:"p-5 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Case & Request"}),e.jsx("th",{className:"p-5 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Issue Reported"}),e.jsx("th",{className:"p-5 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Evidence & Message"}),e.jsx("th",{className:"p-5 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"p-5 text-xs font-bold text-gray-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:l.length>0?l.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50/30 transition-colors group",children:[e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-bold text-orange-500 uppercase",children:"Dispute ID"}),e.jsxs("p",{className:"font-mono text-xs font-bold text-gray-900 mb-2",children:["#",s._id.toUpperCase()]}),e.jsx("span",{className:"text-[10px] font-bold text-blue-500 uppercase",children:"Related Request ID"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 hover:text-blue-600 transition-colors cursor-pointer",children:[e.jsx("p",{className:"font-mono text-[11px] bg-blue-50 px-1.5 py-0.5 rounded border border-blue-100 italic",children:s.requestId?._id||s.requestId}),e.jsx(N,{size:12})]})]})}),e.jsxs("td",{className:"p-5",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-red-50 px-3 py-1.5 rounded-lg border border-red-100",children:[e.jsx(x,{size:14,className:"text-red-500"}),e.jsx("span",{className:"text-red-700 font-bold text-xs uppercase tracking-tight",children:s.reason.replace("_"," ")})]}),e.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 italic font-medium",children:["Created: ",new Date(s.createdAt).toLocaleString()]})]}),e.jsx("td",{className:"p-5",children:e.jsxs("div",{className:"max-w-xs space-y-3",children:[e.jsxs("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-2",title:s.message,children:['"',s.message||"No specific details provided.",'"']}),s.images?.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.images.map((t,r)=>e.jsxs("div",{onClick:()=>c(t),className:"relative h-14 w-14 rounded-md overflow-hidden border border-gray-200 cursor-zoom-in group/img",children:[e.jsx("img",{src:t,alt:"Evidence",className:"h-full w-full object-cover transition-transform group-hover/img:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover/img:opacity-100 flex items-center justify-center transition-opacity",children:e.jsx(w,{size:14,className:"text-white"})})]},r))})]})}),e.jsx("td",{className:"p-5",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black tracking-widest border shadow-sm ${m(s.status)}`,children:s.status.replace("_"," ")})}),e.jsx("td",{className:"p-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{className:"p-2.5 bg-white border border-gray-100 text-gray-400 hover:text-blue-600 hover:shadow-md rounded-xl transition-all shadow-sm",children:e.jsx(g,{size:18})}),e.jsx("button",{className:"p-2.5 bg-white border border-gray-100 text-gray-400 hover:text-orange-600 hover:shadow-md rounded-xl transition-all shadow-sm",children:e.jsx(j,{size:18})}),e.jsx("button",{className:"p-2.5 bg-white border border-gray-100 text-gray-400 hover:text-gray-900 hover:shadow-md rounded-xl transition-all shadow-sm",children:e.jsx(b,{size:18})})]})})]},s._id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center opacity-40",children:[e.jsx(x,{size:48,className:"text-gray-300 mb-3"}),e.jsx("p",{className:"text-lg font-medium text-gray-500 italic",children:"No disputes found"})]})})})})]})})})]})};export{C as default};
